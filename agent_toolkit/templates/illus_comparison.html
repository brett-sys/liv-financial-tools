{% extends "base.html" %}
{% set active_tab = "tools" %}
{% block title %}Compare Illustrations - LIFI{% endblock %}

{% block content %}
<div class="form-page">
    <h1>Compare Illustrations</h1>
    <p style="color: var(--text-muted); font-size: 0.8rem; margin-bottom: 1rem;">
        Paste illustration data for up to 4 policies to generate a side-by-side comparison PDF.
    </p>

    <form method="POST" action="{{ url_for('tools.illustration_comparison') }}" class="call-form">
        <div class="form-group">
            <label for="client_name">Client Name</label>
            <input type="text" id="client_name" name="client_name" placeholder="John Smith">
        </div>

        <div class="tab-bar">
            <button type="button" class="tab-btn active" data-tab="1">Policy 1</button>
            <button type="button" class="tab-btn" data-tab="2">Policy 2</button>
            <button type="button" class="tab-btn" data-tab="3">Policy 3</button>
            <button type="button" class="tab-btn" data-tab="4">Policy 4</button>
        </div>

        {% for i in range(1, 5) %}
        <div class="tab-content {% if i == 1 %}active{% endif %}" data-tab="{{ i }}">
            <div class="form-group">
                <label for="label_{{ i }}">Label</label>
                <input type="text" id="label_{{ i }}" name="label_{{ i }}"
                       placeholder="e.g. Option {{ i }} â€“ SummitLife" value="Option {{ i }}">
            </div>
            <div class="form-group">
                <label>Illustration Data</label>
                <textarea name="paste_{{ i }}" class="paste-area" rows="8"
                          placeholder="Paste illustration data for policy {{ i }}...{% if i > 2 %}&#10;(Leave empty to skip){% endif %}"></textarea>
            </div>
        </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary btn-lg btn-block">Generate Comparison PDF</button>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
document.querySelectorAll('.tab-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
        document.querySelectorAll('.tab-btn').forEach(function(b) { b.classList.remove('active'); });
        document.querySelectorAll('.tab-content').forEach(function(c) { c.classList.remove('active'); });
        btn.classList.add('active');
        document.querySelector('.tab-content[data-tab="' + btn.dataset.tab + '"]').classList.add('active');
    });
});
</script>
{% endblock %}
